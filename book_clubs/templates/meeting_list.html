{% extends 'base_content.html' %}
{% block content %}
<div class="container">
  <div class="row">
    <div class="col-12">
      <h1>Meetings</h1>
      {% if meetings %}
        <table class="table">
          <thead>
            <tr>
              <th scope = 'col'>ID</th>
              <th scope = 'col'>Deadline</th>
              <th scope = 'col'></th>
              {% if membership.is_owner %}
                <th scope = 'col'></th>
              {% endif %}
            </tr>
          </thead>
          <tbody>
            {% for meeting in meetings %}
              <tr>
                <th>{{ meeting.id }}</th>
                <td>{{ meeting.deadline }}</td>

                {% if meeting.passed_deadline and meeting.chosen_book is not None %}
                  <td><a class="btn btn-md btn-secondary" href="{% url 'meeting' meeting.club.id meeting.id %}">Join meeting</a></td>
                {% else %}
                  <td></td>
                {% endif %}

                {% if membership.is_owner %}
                  <td><a class="btn btn-md btn-secondary" href="{% url 'end_meeting' meeting.club.id meeting.id %}">End meeting</a></td>
                {% endif %}
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p>There aren't any meetings to be displayed.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
